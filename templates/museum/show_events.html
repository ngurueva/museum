{% load l10n %}
{% load i18n %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</title>
    <style>
        body { font-family: sans-serif; background: #f8f8f8; padding: 20px; }
        h1 { text-align: center; }
        ul { list-style: none; max-width: 960px; margin: 0 auto; padding: 0; }
        li { background: #fff; margin-bottom: 30px; padding: 20px; border-radius: 12px; display: flex; gap: 20px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05); }
        .event-image { width: 250px; height: 160px; object-fit: cover; border-radius: 10px; }
        .event-details { flex: 1; }
        .schedule { margin-top: 10px; background-color: #f0f0f0; padding: 10px; border-radius: 8px; }
        .empty-message { text-align: center; color: #999; margin-top: 40px; }
    </style>
</head>
<body>
    {% block content %}
        <h1>–°–ø–∏—Å–æ–∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</h1>
        <ul>
            {% for event in events %}
                <li>
                    {% if event.image %}
                        <img src="{{ event.image.url }}" alt="–ö–∞—Ä—Ç–∏–Ω–∫–∞" class="event-image">
                    {% endif %}
                    <div class="event-details">
                        <h2>{{ event.name }}</h2>
                        <p><strong>–¢–∏–ø:</strong> {{ event.event_type }}</p>
                        <p><strong>–ú–µ—Å—Ç–∞:</strong> {{ event.capacity }}</p>

                        {% if event.nearest_schedule %}
                            <div class="schedule">
                                <p><strong>üìÖ –ë–ª–∏–∂–∞–π—à–µ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ:</strong></p>
                                <p>{{ event.nearest_schedule.date|date:"d E Y" }} —Å {{ event.nearest_schedule.time_start|date:"H:i" }} –¥–æ {{ event.nearest_schedule.time_end|date:"H:i" }}</p>
                            </div>
                        {% else %}
                            <p style="color: gray;">–ù–µ—Ç –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –¥–∞—Ç.</p>
                        {% endif %}
                    </div>
                </li>
            {% empty %}
                <p class="empty-message">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π.</p>
            {% endfor %}
        </ul>
    {% endblock %}
</body>
</html>
